<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
</head>
<body>
<h1>AJAX POST 요청</h1>
<hr/>
<form name="f" id="f" action="">
    아이디:<input type="text" name="id" id="id">
    <span id="msg"></span>
</form>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script type="text/javascript">
    $('#id').keyup((e) => {
        let idStr = $(e.target).val();
        if (idStr.trim() == '') return;
        /*
        jQuery AJAX 요청
         */
        $.ajax({
            url: 'http://192.168.15.31:8080/02.ajaxRequestPOST',
            method: 'POST',
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            data: $('#f').serialize(),
            dataType: 'json',
            success: (responseJsonObject) => {
                if (responseJsonObject.status === 1) {
                    $('#msg').html(responseJsonObject.msg).css('color', 'green');
                } else if (responseJsonObject.status === 2) {
                    $('#msg').html(responseJsonObject.msg).css('color', 'orange');
                }
            }
        })
    })
</script>
</body>
</html>
